{"ast":null,"code":"import _slicedToArray from\"/Users/les/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'./SavedMovies.css';import Header from\"../Header/Header\";import Footer from\"../Footer/Footer\";import SearchForm from\"../SearchForm/SearchForm\";import MoviesCardList from\"../MoviesCardList/MoviesCardList\";import{filterMovies,filterDuration}from'../../utils/utils';//TODO del\n// import movieImage from '../../images/card-saved.png';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SavedMovies=function SavedMovies(_ref){var loggedIn=_ref.loggedIn,savedMovies=_ref.savedMovies,onCardDelete=_ref.onCardDelete;var _useState=useState(savedMovies),_useState2=_slicedToArray(_useState,2),filteredMovies=_useState2[0],setFilteredMovies=_useState2[1];//отфильтрованные по запросу и чекбоксу\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isShortMovies=_useState4[0],setIsShortMovies=_useState4[1];//включен ли чекбокс короткометражек\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isNotFound=_useState6[0],setIsNotFound=_useState6[1];//фильмы по запросу не найдены\nvar _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),searchQuery=_useState8[0],setSearchQuery=_useState8[1];function onSearchMovies(query){setSearchQuery(query);}function handleShortMovies(){setIsShortMovies(!isShortMovies);}useEffect(function(){var moviesList=filterMovies(savedMovies,searchQuery);setFilteredMovies(isShortMovies?filterDuration(moviesList):moviesList);},[savedMovies,isShortMovies,searchQuery]);useEffect(function(){if(filteredMovies.length===0){setIsNotFound(true);}else{setIsNotFound(false);}},[filteredMovies]);return/*#__PURE__*/_jsxs(\"section\",{className:\"movies\",children:[/*#__PURE__*/_jsx(Header,{loggedIn:loggedIn}),/*#__PURE__*/_jsx(SearchForm,{onSearchMovies:onSearchMovies,onFilter:handleShortMovies}),/*#__PURE__*/_jsx(MoviesCardList,{isNotFound:isNotFound,cards:filteredMovies,isSavedFilms:true,savedMovies:savedMovies,onCardDelete:onCardDelete}),/*#__PURE__*/_jsx(Footer,{})]});};export default SavedMovies;","map":{"version":3,"names":["React","useState","useEffect","Header","Footer","SearchForm","MoviesCardList","filterMovies","filterDuration","jsx","_jsx","jsxs","_jsxs","SavedMovies","_ref","loggedIn","savedMovies","onCardDelete","_useState","_useState2","_slicedToArray","filteredMovies","setFilteredMovies","_useState3","_useState4","isShortMovies","setIsShortMovies","_useState5","_useState6","isNotFound","setIsNotFound","_useState7","_useState8","searchQuery","setSearchQuery","onSearchMovies","query","handleShortMovies","moviesList","length","className","children","onFilter","cards","isSavedFilms"],"sources":["/Users/les/dev/movies-explorer-frontend/src/components/SavedMovies/SavedMovies.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './SavedMovies.css'\nimport Header from \"../Header/Header\";\nimport Footer from \"../Footer/Footer\";\nimport SearchForm from \"../SearchForm/SearchForm\";\nimport MoviesCardList from \"../MoviesCardList/MoviesCardList\";\nimport { filterMovies, filterDuration } from '../../utils/utils';\n\n\n//TODO del\n// import movieImage from '../../images/card-saved.png';\n\n\nconst SavedMovies = ({ loggedIn, savedMovies, onCardDelete }) => {\n    const [filteredMovies, setFilteredMovies] = useState(savedMovies); //отфильтрованные по запросу и чекбоксу\n    const [isShortMovies, setIsShortMovies] = useState(false); //включен ли чекбокс короткометражек\n    const [isNotFound, setIsNotFound] = useState(false); //фильмы по запросу не найдены\n    const [searchQuery, setSearchQuery] = useState('');\n\n    function onSearchMovies(query) {\n        setSearchQuery(query);\n    }\n\n    function handleShortMovies() {\n        setIsShortMovies(!isShortMovies);\n    }\n\n    useEffect(() => {\n        const moviesList = filterMovies(savedMovies, searchQuery);\n        setFilteredMovies(isShortMovies ? filterDuration(moviesList) : moviesList);\n    }, [savedMovies, isShortMovies, searchQuery]);\n\n    useEffect(() => {\n        if (filteredMovies.length === 0) {\n            setIsNotFound(true);\n        } else {\n            setIsNotFound(false);\n        }\n    }, [filteredMovies]);\n\n    return(\n        <section className='movies'>\n            <Header loggedIn={loggedIn}/>\n            <SearchForm onSearchMovies={onSearchMovies} onFilter={handleShortMovies}/>\n            <MoviesCardList\n                isNotFound={isNotFound}\n                cards={filteredMovies}\n                isSavedFilms={true}\n                savedMovies={savedMovies}\n                onCardDelete={onCardDelete}\n            />\n            <Footer/>\n        </section>\n    )\n}\n\nexport default SavedMovies"],"mappings":"6HAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,mBAAmB,CAC1B,MAAO,CAAAC,MAAM,KAAM,kBAAkB,CACrC,MAAO,CAAAC,MAAM,KAAM,kBAAkB,CACrC,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,MAAO,CAAAC,cAAc,KAAM,kCAAkC,CAC7D,OAASC,YAAY,CAAEC,cAAc,KAAQ,mBAAmB,CAGhE;AACA;AAAA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGA,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAAC,IAAA,CAAgD,IAA1C,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAAEC,WAAW,CAAAF,IAAA,CAAXE,WAAW,CAAEC,YAAY,CAAAH,IAAA,CAAZG,YAAY,CACtD,IAAAC,SAAA,CAA4CjB,QAAQ,CAACe,WAAW,CAAC,CAAAG,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA1DG,cAAc,CAAAF,UAAA,IAAEG,iBAAiB,CAAAH,UAAA,IAA2B;AACnE,IAAAI,UAAA,CAA0CtB,QAAQ,CAAC,KAAK,CAAC,CAAAuB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAlDE,aAAa,CAAAD,UAAA,IAAEE,gBAAgB,CAAAF,UAAA,IAAqB;AAC3D,IAAAG,UAAA,CAAoC1B,QAAQ,CAAC,KAAK,CAAC,CAAA2B,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA5CE,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAAqB;AACrD,IAAAG,UAAA,CAAsC9B,QAAQ,CAAC,EAAE,CAAC,CAAA+B,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAA3CE,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAElC,QAAS,CAAAG,cAAcA,CAACC,KAAK,CAAE,CAC3BF,cAAc,CAACE,KAAK,CAAC,CACzB,CAEA,QAAS,CAAAC,iBAAiBA,CAAA,CAAG,CACzBX,gBAAgB,CAAC,CAACD,aAAa,CAAC,CACpC,CAEAvB,SAAS,CAAC,UAAM,CACZ,GAAM,CAAAoC,UAAU,CAAG/B,YAAY,CAACS,WAAW,CAAEiB,WAAW,CAAC,CACzDX,iBAAiB,CAACG,aAAa,CAAGjB,cAAc,CAAC8B,UAAU,CAAC,CAAGA,UAAU,CAAC,CAC9E,CAAC,CAAE,CAACtB,WAAW,CAAES,aAAa,CAAEQ,WAAW,CAAC,CAAC,CAE7C/B,SAAS,CAAC,UAAM,CACZ,GAAImB,cAAc,CAACkB,MAAM,GAAK,CAAC,CAAE,CAC7BT,aAAa,CAAC,IAAI,CAAC,CACvB,CAAC,IAAM,CACHA,aAAa,CAAC,KAAK,CAAC,CACxB,CACJ,CAAC,CAAE,CAACT,cAAc,CAAC,CAAC,CAEpB,mBACIT,KAAA,YAAS4B,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACvB/B,IAAA,CAACP,MAAM,EAACY,QAAQ,CAAEA,QAAS,CAAC,CAAC,cAC7BL,IAAA,CAACL,UAAU,EAAC8B,cAAc,CAAEA,cAAe,CAACO,QAAQ,CAAEL,iBAAkB,CAAC,CAAC,cAC1E3B,IAAA,CAACJ,cAAc,EACXuB,UAAU,CAAEA,UAAW,CACvBc,KAAK,CAAEtB,cAAe,CACtBuB,YAAY,CAAE,IAAK,CACnB5B,WAAW,CAAEA,WAAY,CACzBC,YAAY,CAAEA,YAAa,CAC9B,CAAC,cACFP,IAAA,CAACN,MAAM,GAAC,CAAC,EACJ,CAAC,CAElB,CAAC,CAED,cAAe,CAAAS,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}