{"ast":null,"code":"var _jsxFileName = \"/Users/les/dev/movies-explorer-frontend/src/components/Profile/Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useContext, useState } from 'react';\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport './Profile.css';\nimport Header from '../Header/Header';\nimport useForm from '../hooks/useForm';\nimport { EMAIL_REGEX, USERNAME_REGEX } from '../../utils/constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Profile = ({\n  signOut,\n  onUpdateUser,\n  loggedIn,\n  isLoading\n}) => {\n  _s();\n  const currentUser = useContext(CurrentUserContext);\n  const {\n    enteredValues,\n    errors,\n    handleChange,\n    isFormValid,\n    resetForm\n  } = useForm();\n  const [isLastValues, setIsLastValues] = useState(false);\n  useEffect(() => {\n    if (currentUser) {\n      resetForm(currentUser);\n    }\n  }, [currentUser, resetForm]);\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name: enteredValues.name,\n      email: enteredValues.email\n    });\n  }\n  useEffect(() => {\n    if (currentUser.name === enteredValues.name && currentUser.email === enteredValues.email) {\n      setIsLastValues(true);\n    } else {\n      setIsLastValues(false);\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [enteredValues]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      loggedIn: loggedIn\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"profile\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"profile__title\",\n        children: [\"\\u041F\\u0440\\u0438\\u0432\\u0435\\u0442, \", currentUser.name, \"!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"profile__form\",\n        onSubmit: handleSubmit,\n        noValidate: true,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"profile__field\",\n          children: [\"\\u0418\\u043C\\u044F\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"name\",\n            className: \"profile__input\",\n            id: \"name-input\",\n            type: \"text\",\n            minLength: \"2\",\n            maxLength: \"40\",\n            required: true,\n            onChange: handleChange,\n            value: enteredValues.name || '',\n            pattern: USERNAME_REGEX\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"profile__input-error\",\n            children: errors.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile__border\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"profile__field\",\n          children: [\"E-mail\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"email\",\n            className: \"profile__input\",\n            id: \"email-input\",\n            type: \"email\",\n            required: true,\n            onChange: handleChange,\n            pattern: EMAIL_REGEX,\n            value: enteredValues.email || ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"profile__input-error\",\n            children: errors.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: !isFormValid ? true : false,\n          className: !isFormValid || isLoading || isLastValues ? 'profile__button-submit' : 'profile__button-submit profile__button-submit_inactive',\n          children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"profile__logout\",\n          onClick: signOut,\n          children: \"\\u0412\\u044B\\u0439\\u0442\\u0438 \\u0438\\u0437 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(Profile, \"QWZV827eM9Ltev+WdMn6YLOCITg=\", false, function () {\n  return [useForm];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useEffect","useContext","useState","CurrentUserContext","Header","useForm","EMAIL_REGEX","USERNAME_REGEX","jsxDEV","_jsxDEV","Fragment","_Fragment","Profile","signOut","onUpdateUser","loggedIn","isLoading","_s","currentUser","enteredValues","errors","handleChange","isFormValid","resetForm","isLastValues","setIsLastValues","handleSubmit","e","preventDefault","name","email","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","noValidate","id","type","minLength","maxLength","required","onChange","value","pattern","disabled","onClick","_c","$RefreshReg$"],"sources":["/Users/les/dev/movies-explorer-frontend/src/components/Profile/Profile.js"],"sourcesContent":["import React, { useEffect, useContext, useState } from 'react';\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport './Profile.css'\nimport Header from '../Header/Header';\nimport useForm from '../hooks/useForm';\nimport { EMAIL_REGEX, USERNAME_REGEX } from '../../utils/constants';\nconst Profile = ({ signOut, onUpdateUser, loggedIn, isLoading }) =>{\n    const currentUser = useContext(CurrentUserContext);\n\n    const { enteredValues, errors, handleChange, isFormValid, resetForm } = useForm();\n    const [isLastValues, setIsLastValues] = useState(false);\n\n    useEffect(() => {\n        if (currentUser) {\n            resetForm(currentUser);\n        }\n    }, [currentUser, resetForm]);\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onUpdateUser({\n            name: enteredValues.name,\n            email: enteredValues.email,\n        });\n    }\n\n    useEffect(() => {\n        if (currentUser.name === enteredValues.name && currentUser.email === enteredValues.email) {\n            setIsLastValues(true);\n        } else {\n            setIsLastValues(false);\n        }\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [enteredValues]);\n    return(\n        <>\n            <Header loggedIn={loggedIn} />\n        <section className='profile'>\n            <h3 className='profile__title'>Привет, {currentUser.name}!</h3>\n            <form className='profile__form' onSubmit={handleSubmit} noValidate>\n                <label className='profile__field'>\n                    Имя\n                    <input\n                        name='name'\n                        className='profile__input'\n                        id='name-input'\n                        type='text'\n                        minLength='2'\n                        maxLength='40'\n                        required={true}\n                        onChange={handleChange}\n                        value={enteredValues.name || ''}\n                        pattern={USERNAME_REGEX}\n                    />\n                    <span className=\"profile__input-error\">{errors.name}</span>\n                </label>\n\n                <div className='profile__border'></div>\n                <label className='profile__field'>\n                    E-mail\n                    <input name='email'\n                           className='profile__input'\n                           id='email-input'\n                           type='email'\n                           required={true}\n                           onChange={handleChange}\n                           pattern={EMAIL_REGEX}\n                           value={enteredValues.email || ''}\n                    />\n                    <span className=\"profile__input-error\">{errors.email}</span>\n                </label>\n                <button type='submit'\n                        disabled={!isFormValid ? true : false}\n                        className={!isFormValid || isLoading || isLastValues\n                            ? 'profile__button-submit'\n                            :'profile__button-submit profile__button-submit_inactive' }\n                >\n                    Редактировать\n                </button>\n                <button type=\"button\" className='profile__logout' onClick={signOut}>Выйти из аккаунта</button>\n            </form>\n        </section>\n        </>\n    )\n}\n\nexport default Profile"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}