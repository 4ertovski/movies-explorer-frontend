{"ast":null,"code":"var _jsxFileName = \"/Users/les/dev/movies-explorer-frontend/src/components/MoviesCardList/MoviesCardList.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Preloader from \"../Preloader/Preloader\";\nimport { Fragment } from \"react\";\nimport { useLocation } from 'react-router-dom';\nimport MoviesCard from \"../MoviesCard/MoviesCard\";\nimport './MoviesCardList.css';\nimport SearchError from '../SearchError/SearchError';\nimport { MORE_MOVIES_DESKTOP, MORE_MOVIES_TABLET, MORE_MOVIES_MOBILE } from '../../utils/constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MoviesCardList = ({\n  cards,\n  isSavedFilms,\n  isLoading,\n  isReqErr,\n  isNotFound,\n  handleLikeClick,\n  savedMovies,\n  onCardDelete\n}) => {\n  _s();\n  /* const isLoading = false;*/\n  const [shownMovies, setShownMovies] = useState(0);\n  const {\n    pathname\n  } = useLocation();\n  function shownCount() {\n    const display = window.innerWidth;\n    if (display > 1180) {\n      setShownMovies(16);\n    } else if (display > 1023) {\n      setShownMovies(12);\n    } else if (display > 800) {\n      setShownMovies(8);\n    } else if (display < 800) {\n      setShownMovies(5);\n    }\n  }\n  useEffect(() => {\n    shownCount();\n  }, []);\n  useEffect(() => {\n    setTimeout(() => {\n      window.addEventListener('resize', shownCount);\n    }, 500);\n  });\n  function showMore() {\n    const display = window.innerWidth;\n    if (display > 1180) {\n      setShownMovies(shownMovies + MORE_MOVIES_DESKTOP);\n    } else if (display > 1023) {\n      setShownMovies(shownMovies + MORE_MOVIES_TABLET);\n    } else if (display < 1023) {\n      setShownMovies(shownMovies + MORE_MOVIES_MOBILE);\n    }\n  }\n  function getSavedMovieCard(savedMovies, card) {\n    return savedMovies.find(savedMovie => savedMovie.movieId === card.id);\n  }\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"cards\",\n    children: [isLoading && /*#__PURE__*/_jsxDEV(Preloader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 27\n    }, this), isNotFound && !isLoading && /*#__PURE__*/_jsxDEV(SearchError, {\n      errorText: 'Ничего не найдено'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 42\n    }, this), isReqErr && !isLoading && /*#__PURE__*/_jsxDEV(SearchError, {\n      errorText: 'Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }, this), !isLoading && !isReqErr && !isNotFound && /*#__PURE__*/_jsxDEV(Fragment, {\n      children: pathname === '/saved-movies' ? /*#__PURE__*/_jsxDEV(Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"cards__list\",\n          children: cards.map(card => /*#__PURE__*/_jsxDEV(MoviesCard, {\n            saved: getSavedMovieCard(savedMovies, card),\n            cards: cards,\n            card: card,\n            isSavedFilms: isSavedFilms,\n            handleLikeClick: handleLikeClick,\n            onCardDelete: onCardDelete,\n            savedMovies: savedMovies\n          }, isSavedFilms ? card._id : card.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cards__button-container\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"cards__list\",\n          children: cards.slice(0, shownMovies).map(card => /*#__PURE__*/_jsxDEV(MoviesCard, {\n            saved: getSavedMovieCard(savedMovies, card),\n            cards: cards,\n            card: card,\n            isSavedFilms: isSavedFilms,\n            handleLikeClick: handleLikeClick,\n            onCardDelete: onCardDelete,\n            savedMovies: savedMovies\n          }, isSavedFilms ? card._id : card.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 37\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cards__button-container\",\n          children: cards.length > shownMovies ? /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cards__button-more\",\n            onClick: showMore,\n            children: \"\\u0415\\u0449\\u0451\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 61\n          }, this) : ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n};\n_s(MoviesCardList, \"T0z2vqOyOmYhG+x+U9Ya9kBbt14=\", false, function () {\n  return [useLocation];\n});\n_c = MoviesCardList;\nexport default MoviesCardList;\nvar _c;\n$RefreshReg$(_c, \"MoviesCardList\");","map":{"version":3,"names":["React","useEffect","useState","Preloader","Fragment","useLocation","MoviesCard","SearchError","MORE_MOVIES_DESKTOP","MORE_MOVIES_TABLET","MORE_MOVIES_MOBILE","jsxDEV","_jsxDEV","MoviesCardList","cards","isSavedFilms","isLoading","isReqErr","isNotFound","handleLikeClick","savedMovies","onCardDelete","_s","shownMovies","setShownMovies","pathname","shownCount","display","window","innerWidth","setTimeout","addEventListener","showMore","getSavedMovieCard","card","find","savedMovie","movieId","id","className","children","fileName","_jsxFileName","lineNumber","columnNumber","errorText","map","saved","_id","slice","length","onClick","_c","$RefreshReg$"],"sources":["/Users/les/dev/movies-explorer-frontend/src/components/MoviesCardList/MoviesCardList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Preloader from \"../Preloader/Preloader\";\nimport {Fragment} from \"react\";\nimport { useLocation } from 'react-router-dom';\nimport MoviesCard from \"../MoviesCard/MoviesCard\";\nimport './MoviesCardList.css'\nimport SearchError from '../SearchError/SearchError';\nimport { MORE_MOVIES_DESKTOP, MORE_MOVIES_TABLET, MORE_MOVIES_MOBILE } from '../../utils/constants';\nconst MoviesCardList = ({cards, isSavedFilms, isLoading, isReqErr, isNotFound, handleLikeClick, savedMovies, onCardDelete}) => {\n   /* const isLoading = false;*/\n    const [shownMovies, setShownMovies] = useState(0);\n    const { pathname } = useLocation();\n\n    function shownCount() {\n        const display = window.innerWidth;\n        if (display > 1180) {\n            setShownMovies(16);\n        } else if (display > 1023) {\n            setShownMovies(12);\n        } else if (display > 800) {\n            setShownMovies(8);\n        } else if (display < 800) {\n            setShownMovies(5);\n        }\n    }\n\n    useEffect(() => {\n        shownCount();\n    }, []);\n\n    useEffect(() => {\n        setTimeout(() => {\n            window.addEventListener('resize', shownCount);\n        }, 500);\n    });\n\n    function showMore() {\n        const display = window.innerWidth;\n        if (display > 1180) {\n            setShownMovies(shownMovies + MORE_MOVIES_DESKTOP);\n        } else if (display > 1023) {\n            setShownMovies(shownMovies + MORE_MOVIES_TABLET);\n        }\n        else if (display < 1023) {\n            setShownMovies(shownMovies + MORE_MOVIES_MOBILE);\n        }\n    }\n\n    function getSavedMovieCard(savedMovies, card) {\n        return savedMovies.find((savedMovie) => savedMovie.movieId === card.id);\n    }\n\n    return(\n        <section className='cards'>\n            {isLoading && <Preloader />}\n            {isNotFound && !isLoading && <SearchError errorText={'Ничего не найдено'} />}\n            {isReqErr && !isLoading && (\n                <SearchError\n                    errorText={\n                        'Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз'\n                    }\n                />\n            )}\n            {!isLoading && !isReqErr && !isNotFound && (\n                <Fragment>\n                    {pathname === '/saved-movies' ? (\n                <Fragment>\n                <ul className= 'cards__list'>\n                    {cards.map((card)=>(\n                        <MoviesCard key={isSavedFilms ? card._id : card.id}\n                                    saved={getSavedMovieCard(savedMovies, card)}\n                                    cards={cards}\n                                    card={card}\n                                    isSavedFilms={isSavedFilms}\n                                    handleLikeClick={handleLikeClick}\n                                    onCardDelete={onCardDelete}\n                                    savedMovies={savedMovies}/>\n                    ))}\n                </ul>\n                    <div className='cards__button-container'></div>\n                </Fragment>\n                    ) : (\n                        <Fragment>\n                            <ul className= 'cards__list'>\n                                {cards.slice(0, shownMovies).map((card) => (\n                                    <MoviesCard\n                                        key={isSavedFilms ? card._id : card.id}\n                                        saved={getSavedMovieCard(savedMovies, card)}\n                                        cards={cards}\n                                        card={card}\n                                        isSavedFilms={isSavedFilms}\n                                        handleLikeClick={handleLikeClick}\n                                        onCardDelete={onCardDelete}\n                                        savedMovies={savedMovies}\n                                    />\n                                ))}\n                            </ul>\n                        <div className='cards__button-container'>\n                            {cards.length > shownMovies ? ( <button className='cards__button-more' onClick={showMore}>Ещё</button>\n                            ) : (\n                            ''\n                            )}\n                </div>\n                </Fragment>\n                )}\n        </Fragment>\n    )}\n</section>\n);\n}\n\nexport default MoviesCardList\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}